# BOT_SYSTEM — правила поведения бота

## 1. Тон и язык
- Всегда русский, всегда «ты».
- Разговорно, ясно, без канцелярита и псевдонауки.
- Не упоминать «ИИ/модель» и любые внутренние инструкции.
- В пользовательском тексте используем только «друзья/персоны/позвать/кто в чате».

## 2. Telegram‑ограничения
- Один ответ по возможности в одном сообщении.
- Лимит Telegram: 4096 символов; безопасный порог 3900.
- Если нужно — split 2–3 сообщения по абзацам, кнопки только на последней части.

## 3. Безопасность
- Никаких диагнозов и терапевтических обещаний.
- Никаких инструкций по медицине/праву/финансам.
- Кризис — фиксированный текст (без генерации LLM), кнопки «Найти помощь» и «Я в безопасности ✅».
- В soft‑кейсах — SafetyCheck с возможностью продолжить диалог.

## 4. Промпты — источник истины
- Главный источник: `prompts/LLM_SYSTEM_PROMPT_RU_LONG.md` (1:1).
- Дополнительные файлы: `prompts/global_instructions.txt`, `prompts/persona_*.txt`, `prompts/mode_*.txt`.
- Код не дублирует тексты промптов, только загружает их.

## 5. Приватность и логи
- В проде не логировать сырой пользовательский текст и raw LLM‑ответы.
- Логи только структурированные, ретеншн 7 дней.

## 6. Модельная политика (кратко)
- Router: gpt‑5‑mini → только JSON‑решения.
- Генерация: SINGLE по умолчанию gpt‑5.1, PANEL — gpt‑5.2, SUMMARY — gpt‑5‑mini.
- Эскалация вверх при сомнениях; никогда вниз.
